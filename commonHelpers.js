import{a as w,S as x,i as m}from"./assets/vendor-D1eTGYtO.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))a(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&a(n)}).observe(document,{childList:!0,subtree:!0});function r(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerPolicy&&(o.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?o.credentials="include":e.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(e){if(e.ep)return;e.ep=!0;const o=r(e);fetch(e.href,o)}})();const q="https://pixabay.com/api/";async function f(s){try{return(await w.get(q,s)).data}catch(t){throw t}}function p(s){const t=document.querySelector(".gallery"),r=new x(".gallery a",{captionsData:"alt",captionDelay:250});let a=s.hits.map(e=>`
<div class='gallery-div'>
<a href= "${e.largeImageURL}">
<img class= "gallery-img" src = "${e.webformatURL}" alt= "${e.tags}"></img>
</a>
<div class="text-div">
<div class="text-item"><h5 class="text-title">Likes</h5><p class="text">${e.likes}</p></div>
<div class="text-item"><h5 class="text-title">Views</h5><p class="text">${e.views}</p></div>
<div class="text-item"><h5 class="text-title">Comments</h5><p class="text">${e.comments}</p></div>
<div class="text-item"><h5 class="text-title">Downloads</h5><p class="text">${e.downloads}</p></div>
</div>
</div>`).join("");t.insertAdjacentHTML("beforeend",a),r.refresh()}function S(){const s=document.querySelector(".gallery");s.innerHTML=""}function g(){const s=document.querySelector(".loading-div");s.innerHTML='<span class="loader"></span>'}function y(){const s=document.querySelector(".loading-div");s.innerHTML=""}class M{constructor(t,r){this.button=t,this.hiddenClass=r}hide(){this.button.classList.add(this.hiddenClass)}show(){this.button.classList.remove(this.hiddenClass)}disable(){this.button.disabled=!0}enable(){this.button.disabled=!1}}const H=document.querySelector(".result-receiver"),v=document.querySelector("#search"),d=document.querySelector("[data-start]"),b=document.querySelector(".load-button");document.querySelector(".gallery-div a");let c="",u=0,l=1,h=0;const i=new M(b,"is-hidden");i.hide();L();document.addEventListener("input",L);document.addEventListener("submit",P);b.addEventListener("click",T);function L(){v.value.trim().length===0?d.setAttribute("disabled",""):d.removeAttribute("disabled")}function P(s){s.preventDefault(),S(),g(),c=v.value,f({params:{key:"45153082-ab6ff3a7cbec10f23fcc6c616",q:c,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:15,maxPage:0}}).then(r=>{if(r.hits.length===0)throw i.hide(),new Error("No images found");i.show(),p(r)}).catch(()=>{m.show({message:"Sorry, there are no images matching your search query. Please try again!",color:"red",image:"/src/img/cat_error.jpg",imageWidth:60,position:"topRight"})}).finally(()=>{y(),H.reset()})}function T(){l+=1,g(),f({params:{key:"45153082-ab6ff3a7cbec10f23fcc6c616",q:c,image_type:"photo",orientation:"horizontal",safesearch:!0,page:l,per_page:15}}).then(t=>{if(console.log(t),u=t.totalHits.length,h=u-15,y(),h<15)throw new Error("No images found");p(t),i.show(),i.enable()}).catch(()=>{i.disable(),i.hide(),m.error({message:"We're sorry, but you've reached the end of search results."})})}
//# sourceMappingURL=commonHelpers.js.map
