{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImgByValue(value) {\n    const URL = \"https://pixabay.com/api/\"\n    const params = new URLSearchParams({\n        key: \"45153082-ab6ff3a7cbec10f23fcc6c616\",\n        q: value,\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: true,\n    });\n    \n    return fetch(`${URL}?${params}`)\n    .then((response) => {\n    if (!response.ok) {\n        throw new Error(response.status);\n    }\n        return response.json();\n    })\n    .catch((error) => {\n    console.log(error);\n    })\n    }","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nexport function createListImg(data) {\nconst galleryList = document.querySelector('.gallery');\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n});\n\nlet imgMarkup = data.hits.map((image) => `\n<div class='gallery-div'>\n<a href= \"${image.largeImageURL}\">\n<img class= \"gallery-img\" src = \"${image.webformatURL}\" alt= \"${image.tags}\"></img>\n</a>\n<div class=\"text-div\">\n<div class=\"text-item\"><h5 class=\"text-title\">Likes</h5><p class=\"text\">${image.likes}</p></div>\n<div class=\"text-item\"><h5 class=\"text-title\">Views</h5><p class=\"text\">${image.views}</p></div>\n<div class=\"text-item\"><h5 class=\"text-title\">Comments</h5><p class=\"text\">${image.comments}</p></div>\n<div class=\"text-item\"><h5 class=\"text-title\">Downloads</h5><p class=\"text\">${image.downloads}</p></div>\n</div>\n</div>`).join('');\n\ngalleryList.insertAdjacentHTML('beforeend', imgMarkup);\nlightbox.refresh();\n}\n\nexport function removeListImg() {\nconst galleryList = document.querySelector('.gallery');\ngalleryList.innerHTML = '';\n}\n\nexport function loading() {\nconst loading = document.querySelector('.loading-div');\nloading.innerHTML = '<span class=\"loader\"></span>';\n}\n\nexport function removeLoading() {\nconst loading = document.querySelector('.loading-div');\nloading.innerHTML = '';\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport searchImgByValue from './js/pixabay-api.js'\nimport {createListImg, removeListImg, loading, removeLoading} from './js/render-functions.js'\n\nconst input = document.querySelector('#search')\nconst button = document.querySelector('[data-start]')\n\ncheckButton()\n\ndocument.addEventListener('input', checkButton)\ndocument.addEventListener('submit', searchImg)\n\n// function\n\nfunction checkButton() {\nif (input.value.trim().length === 0){\nbutton.setAttribute('disabled', '');\n} else {\nbutton.removeAttribute('disabled');\n}\n}\n\nfunction searchImg(e) {\ne.preventDefault();\nremoveListImg();\n\nlet value = input.value\n\nloading()\n\nreturn searchImgByValue(value)\n.then((data)=> {\n    if (data.hits.length === 0) {\n        throw new Error('No images found');\n    }else{\n        return createListImg(data) \n    }\n})\n.catch(()=> {\n    return iziToast.show({\n    message: 'Sorry, there are no images matching your search query. Please try again!',\n    color: 'red',\n    image: '/src/img/cat_error.jpg',\n    imageWidth: 60,\n    position: 'topRight'\n})}).finally(removeLoading())\n}"],"names":["searchImgByValue","value","URL","params","response","error","createListImg","data","galleryList","lightbox","SimpleLightbox","imgMarkup","image","removeListImg","loading","removeLoading","input","button","checkButton","searchImg","e","iziToast"],"mappings":"6vBAAe,SAASA,EAAiBC,EAAO,CAC5C,MAAMC,EAAM,2BACNC,EAAS,IAAI,gBAAgB,CAC/B,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACpB,CAAK,EAED,OAAO,MAAM,GAAGC,CAAG,IAAIC,CAAM,EAAE,EAC9B,KAAMC,GAAa,CACpB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAE/B,OAAOA,EAAS,MACxB,CAAK,EACA,MAAOC,GAAU,CAClB,QAAQ,IAAIA,CAAK,CACrB,CAAK,CACL,CCjBO,SAASC,EAAcC,EAAM,CACpC,MAAMC,EAAc,SAAS,cAAc,UAAU,EAE/CC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAClB,CAAC,EAED,IAAIC,EAAYJ,EAAK,KAAK,IAAKK,GAAU;AAAA;AAAA,YAE7BA,EAAM,aAAa;AAAA,mCACIA,EAAM,YAAY,WAAWA,EAAM,IAAI;AAAA;AAAA;AAAA,0EAGAA,EAAM,KAAK;AAAA,0EACXA,EAAM,KAAK;AAAA,6EACRA,EAAM,QAAQ;AAAA,8EACbA,EAAM,SAAS;AAAA;AAAA,OAEtF,EAAE,KAAK,EAAE,EAEhBJ,EAAY,mBAAmB,YAAaG,CAAS,EACrDF,EAAS,QAAO,CAChB,CAEO,SAASI,GAAgB,CAChC,MAAML,EAAc,SAAS,cAAc,UAAU,EACrDA,EAAY,UAAY,EACxB,CAEO,SAASM,GAAU,CAC1B,MAAMA,EAAU,SAAS,cAAc,cAAc,EACrDA,EAAQ,UAAY,8BACpB,CAEO,SAASC,GAAgB,CAChC,MAAMD,EAAU,SAAS,cAAc,cAAc,EACrDA,EAAQ,UAAY,EACpB,CCnCA,MAAME,EAAQ,SAAS,cAAc,SAAS,EACxCC,EAAS,SAAS,cAAc,cAAc,EAEpDC,EAAa,EAEb,SAAS,iBAAiB,QAASA,CAAW,EAC9C,SAAS,iBAAiB,SAAUC,CAAS,EAI7C,SAASD,GAAc,CACnBF,EAAM,MAAM,OAAO,SAAW,EAClCC,EAAO,aAAa,WAAY,EAAE,EAElCA,EAAO,gBAAgB,UAAU,CAEjC,CAEA,SAASE,EAAUC,EAAG,CACtBA,EAAE,eAAc,EAChBP,IAEA,IAAIZ,EAAQe,EAAM,MAElB,OAAAF,EAAS,EAEFd,EAAiBC,CAAK,EAC5B,KAAMM,GAAQ,CACX,GAAIA,EAAK,KAAK,SAAW,EACrB,MAAM,IAAI,MAAM,iBAAiB,EAEjC,OAAOD,EAAcC,CAAI,CAEjC,CAAC,EACA,MAAM,IACIc,EAAS,KAAK,CACrB,QAAS,2EACT,MAAO,MACP,MAAO,yBACP,WAAY,GACZ,SAAU,UACd,CAAC,CAAE,EAAE,QAAQN,GAAe,CAC5B"}